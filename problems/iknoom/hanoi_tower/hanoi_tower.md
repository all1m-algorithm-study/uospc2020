# 다중 하노이탑

## 문제

이 문제는 일반적으로 알고 있는 하노이탑 문제와 다르다.

다중 하노이탑의 룰은 다음과 같다.

1. 다중 하노이탑은 작은 블록 위에 큰 블록을 옮겨도 상관없다.
2. 최상단이 아닌 블록도 옮길 수 있다. 이 경우 옮기려는 블록 위에 있는 블록이 한꺼번에 옮겨진다. 하지만, 옮기려는 블록보다 큰 블록이 위에 있으면 불가능하다.
3. 섞여있는 하노이탑을 옮겨서 모든 블록에 대해서 그 블록 위에는 저 작은 블록만 오도록 정리하면 성공이다.

출제자는 아직 풀이를 생각하지 못했다.

최적해를 구해보자.

## 입력

완성해야하는 하노이탑의 갯수 N

하노이탑의 높이 H

N개의 줄에 섞여있는 블록들

k1 a_1 a_2 a_3 ... a_k1 (첫번째 타워에 있는 블록 k1개)

k2 a_1 a_2 a_3 ... a_k2 (두번째 타워에 있는 블록 k1개)

...

kN a_1 a_2 a_3 ... a_kN (N번째 타워에 있는 블록 k1개)

## 출력

최적해

### 예제 입력

```
3 3
5 1 3 2 1 2
3 3 1 2
1 3
```

### 예제 출력

```
6
```

## 힌트

아래는 최적해가 아니다. (8번)

![그림1](https://github.com/iknoom/uospc2020/blob/master/problems/iknoom/_images/hanoi_tower_img1.png)

아래는 아마도 최적해다. (6번)

![그림1](https://github.com/iknoom/uospc2020/blob/master/problems/iknoom/_images/hanoi_tower_img2.png)
